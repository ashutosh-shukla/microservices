package com.bank.proxy;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.jdbc.core.JdbcTemplate;

import javax.sql.DataSource;

@Configuration
public class Proxy {
    
	// Customer Proxy
	@FeignClient(name = "CUSTOMER-SERVICE", url = "http://localhost:8081/customer-api")
	public interface CustomerServiceProxy {
	    @GetMapping("/all")
	    List<Customer> getAllCustomers();

	    @GetMapping("/{id}")
	    Customer getCustomerById(@PathVariable("id") String id);
	}

	// Account Proxy
	@FeignClient(name = "ACCOUNT-SERVICE", url = "http://localhost:8082/account-api")
	public interface AccountServiceProxy {
	    @GetMapping("/customer/{customerId}")
	    List<Account> getAccountsByCustomerId(@PathVariable("customerId") String customerId);
	}

	// KYC Proxy
	@FeignClient(name = "KYC-SERVICE", url = "http://localhost:8083/kyc/api")
	public interface KycServiceProxy {
	    @GetMapping("/customer/{customerId}")
	    List<KycDocument> getDocumentsByCustomerId(@PathVariable("customerId") String customerId);
	}

}
